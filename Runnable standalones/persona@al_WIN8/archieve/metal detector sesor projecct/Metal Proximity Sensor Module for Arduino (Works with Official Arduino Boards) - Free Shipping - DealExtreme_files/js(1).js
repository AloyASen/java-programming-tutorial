jQuery.extend({stringify:function(r){var t=typeof r;if("object"!=t||null===r)return"string"==t&&(r='"'+r+'"'),String(r);var n,i,e=[],o=r&&r.constructor==Array;for(n in r)i=r[n],t=typeof i,r.hasOwnProperty(n)&&("string"==t?i='"'+i+'"':"object"==t&&null!==i&&(i=jQuery.stringify(i)),e.push((o?"":'"'+n+'":')+String(i)));return(o?"[":"{")+String(e)+(o?"]":"}")}});!function(e,t,r,a){e.fn.caret=function(n,s){var i,o,l=this[0],c=e.browser.msie;if("object"==typeof n&&"number"==typeof n.start&&"number"==typeof n.end)i=n.start,o=n.end;else if("number"==typeof n&&"number"==typeof s)i=n,o=s;else if("string"==typeof n)(i=l.value.indexOf(n))>-1?o=i+n[t]:i=null;else if("[object RegExp]"===Object.prototype.toString.call(n)){var u=n.exec(l.value);null!=u&&(i=u.index,o=i+u[0][t])}if("undefined"!=typeof i){if(c){var f=this[0].createTextRange();f.collapse(!0),f.moveStart("character",i),f.moveEnd("character",o-i),f.select()}else this[0].selectionStart=i,this[0].selectionEnd=o;return this[0].focus(),this}if(c){var v=document.selection;if("textarea"!=this[0].tagName.toLowerCase()){var d=this.val(),x=v[r]()[a]();x.moveEnd("character",d[t]);var h=""==x.text?d[t]:d.lastIndexOf(x.text);x=v[r]()[a](),x.moveStart("character",-d[t]);var m=x.text[t]}else{var x=v[r](),p=x[a]();p.moveToElementText(this[0]),p.setEndPoint("EndToEnd",x);var h=p.text[t]-x.text[t],m=h+x.text[t]}}else var h=l.selectionStart,m=l.selectionEnd;var b=l.value.substring(h,m);return{start:h,end:m,text:b,replace:function(e){return l.value.substring(0,h)+e+l.value.substring(m,l.value[t])}}}}(jQuery,"length","createRange","duplicate");!new function(e){var t=e.separator||"&",n=e.spaces===!1?!1:!0,r=(e.suffix===!1?"":"[]",e.prefix===!1?!1:!0),u=r?e.hash===!0?"#":"?":"",i=e.numbers===!1?!1:!0;jQuery.query=new function(){var e=function(e,t){return void 0!=e&&null!==e&&(t?e.constructor==t:!0)},r=function(e){for(var t,n=/\[([^[]*)\]/g,r=/^([^[]+)(\[.*\])?$/.exec(e),u=r[1],i=[];t=n.exec(r[2]);)i.push(t[1]);return[u,i]},o=function(t,n,r){var u=n.shift();if("object"!=typeof t&&(t=null),""===u)if(t||(t=[]),e(t,Array))t.push(0==n.length?r:o(null,n.slice(0),r));else if(e(t,Object)){for(var i=0;null!=t[i++];);t[--i]=0==n.length?r:o(t[i],n.slice(0),r)}else t=[],t.push(0==n.length?r:o(null,n.slice(0),r));else if(u&&u.match(/^\s*[0-9]+\s*$/)){var c=parseInt(u,10);t||(t=[]),t[c]=0==n.length?r:o(t[c],n.slice(0),r)}else{if(!u)return r;var c=u.replace(/^\s*|\s*$/g,"");if(t||(t={}),e(t,Array)){for(var s={},i=0;i<t.length;++i)s[i]=t[i];t=s}t[c]=0==n.length?r:o(t[c],n.slice(0),r)}return t},c=function(e){var t=this;return t.keys={},e.queryObject?jQuery.each(e.get(),function(e,n){t.SET(e,n)}):jQuery.each(arguments,function(){var e=""+this;e=e.replace(/^[?#]/,""),e=e.replace(/[;&]$/,""),n&&(e=e.replace(/[+]/g," ")),jQuery.each(e.split(/[&;]/),function(){var e=decodeURIComponent(this.split("=")[0]||""),n=decodeURIComponent(this.split("=")[1]||"");e&&(i&&(/^[+-]?[0-9]+\.[0-9]*$/.test(n)?n=parseFloat(n):/^[+-]?[0-9]+$/.test(n)&&(n=parseInt(n,10))),n=n||0===n?n:!0,n!==!1&&n!==!0&&"number"!=typeof n&&(n=n),t.SET(e,n))})}),t};return c.prototype={queryObject:!0,has:function(t,n){var r=this.get(t);return e(r,n)},GET:function(t){if(!e(t))return this.keys;for(var n=r(t),u=n[0],i=n[1],o=this.keys[u];null!=o&&0!=i.length;)o=o[i.shift()];return"number"==typeof o?o:o||""},get:function(t){var n=this.GET(t);return e(n,Object)?jQuery.extend(!0,{},n):e(n,Array)?n.slice(0):n},SET:function(t,n){var u=e(n)?n:null,i=r(t),c=i[0],s=i[1],h=this.keys[c];return this.keys[c]=o(h,s.slice(0),u),this},set:function(e,t){return this.copy().SET(e,t)},REMOVE:function(e){return this.SET(e,null).COMPACT()},remove:function(e){return this.copy().REMOVE(e)},EMPTY:function(){var e=this;return jQuery.each(e.keys,function(t){delete e.keys[t]}),e},load:function(e){var t=e.replace(/^.*?[#](.+?)(?:\?.+)?$/,"$1"),n=e.replace(/^.*?[?](.+?)(?:#.+)?$/,"$1");return new c(e.length==n.length?"":n,e.length==t.length?"":t)},empty:function(){return this.copy().EMPTY()},copy:function(){return new c(this)},COMPACT:function(){function t(n){function r(t,n,r){e(t,Array)?t.push(r):t[n]=r}var u="object"==typeof n?e(n,Array)?[]:{}:n;return"object"==typeof n&&jQuery.each(n,function(n,i){return e(i)?void r(u,n,t(i)):!0}),u}return this.keys=t(this.keys),this},compact:function(){return this.copy().COMPACT()},toString:function(){var r=[],i=[],o=function(e){return e+="",n&&(e=e.replace(/ /g,"+")),encodeURIComponent(e)},c=function(t,n,r){if(e(r)&&r!==!1){var u=[o(n)];r!==!0&&(u.push("="),u.push(o(r))),t.push(u.join(""))}},s=function(e,t){var n=function(e){return t&&""!=t?[t,"[",e,"]"].join(""):[e].join("")};jQuery.each(e,function(e,t){"object"==typeof t?s(t,n(e)):c(i,n(e),t)})};return s(this.keys),i.length>0&&r.push(u),r.push(i.join(t)),r.join("")}},new c(location.search,location.hash)}}(jQuery.query||{});!function(i){i.fn.lightBox=function(e){function t(){return o(this,I),!1}function o(t){i("embed, object, select").css({visibility:"hidden"}),A.find("a").each(function(){var t=i(this).attr("href"),o=i(this).children().attr("src");e.imageArray.push([o,t])}),j.find("a").each(function(){var t=i(this).attr("href"),o=i(this).children().attr("src");e.videoArray.push([o,t])});for(var o=0;o<e.imageArray.length;o++)if(e.imageArray[o][1]==t.getAttribute("href")){e.activeImage=o;break}for(var o=0;o<e.videoArray.length;o++)if(e.videoArray[o][1]==t.getAttribute("href")){e.activeVideo=o;break}k=e.activeVideo>-1?"video":"img",a(),e.activeImage>-1?n():e.activeVideo>-1&&l()}function a(){var t=i('<div id="jquery-overlay"></div><div id="jquery-lightbox"><div id="lightbox-container"><div id="lightbox-activeimage"><div id="lightbox-container-image-box"><div id="lightbox-container-image"><img id="lightbox-image"><div id="lightbox-nav"><a href="#" id="lightbox-nav-btnPrev"></a><a href="#" id="lightbox-nav-btnNext"></a></div></div><div id="lightbox-container-video"></div><div id="lightbox-loading"><a id="lightbox-loading-link"></a></div></div><div id="lightbox-container-image-data-box"><div id="lightbox-container-image-data"><p id="lightbox-image-details"><span id="lightbox-image-details-caption"></span></p><span id="lightbox-image-details-currentNumber"></span></div></div></div><div id="lightbox-images"><div id="lightbox-images-group-box"><select id="lightbox-type-select"><option value="img">'+e.selImageText.replace("{count}",e.imageCount)+'</option><option value="video">'+e.selVideoText.replace("{count}",e.videoCount)+'</option></select></div><div id="lightbox-images-container"><div id="lightbox-images-box"><ul id="lightbox-images-list"></ul><ul style="display:none;" id="lightbox-videos-list"></ul></div><div id="lightbox-images-button-box"><a id="lightbox-images-list-up"></a><a id="lightbox-images-list-down"></a></div></div></div><div id="lightbox-close-box"><a href="#" id="lightbox-btnClose"></a></div></div></div>');i.each(e.imageArray,function(i,e){e[0]&&t.find("#lightbox-images-list").append('<li><a href="javascript:void(0)"><img src="'+e[0]+'" /></a></li>')}),i.each(e.videoArray,function(i,e){e[0]&&t.find("#lightbox-videos-list").append('<li><a href="javascript:void(0)"><img src="'+e[0]+'" /></a></li>')}),0==t.find("#lightbox-images-list").children().length&&0==t.find("#lightbox-videos-list").children().length&&t.find("#lightbox-images").remove(),e.activeImage>=0&&t.find("#lightbox-images-list").children(":eq("+e.activeImage+")").children().addClass("actived"),e.activeVideo>=0&&t.find("#lightbox-videos-list").children(":eq("+e.activeVideo+")").children().addClass("actived"),0==e.imageArray.length||0==e.videoArray.length?t.find("#lightbox-images-group-box").remove():(t.find("#lightbox-type-select").children("[value='"+k+"']").attr("selected","selected"),"video"==k&&(t.find("#lightbox-images-list").hide(),t.find("#lightbox-videos-list").show())),t.find("#lightbox-images-box").hide(),i("body").append(t);var o=i("#lightbox-images-list li").eq(0),a=o.height()+parseInt(o.css("margin-top"),10)+parseInt(o.css("margin-bottom"),10),d=(i("#lightbox-images-list").height(),Math.ceil(i("#lightbox-images-list").children().length/e.sColCount)),g=a*(e.sRowCount<d?e.sRowCount:d);i("#lightbox-images-box").css({height:g}).show();var c=p();i("#jquery-overlay").css({backgroundColor:e.overlayBgColor,opacity:e.overlayOpacity,width:c[0],height:c[1]}).fadeIn();var h=y();i("#jquery-lightbox").css({top:h[1]+c[3]/10,left:h[0]}).show(),i("#lightbox-type-select").change(function(){"img"==i(this).val()?(i("#lightbox-videos-list").hide(),i("#lightbox-images-list").show()):"video"==i(this).val()&&(i("#lightbox-images-list").hide(),i("#lightbox-videos-list").show())}),i("#lightbox-images-container").hover(function(){var e=i(this).children().children(":visible");i("#lightbox-images-box").height()<e.height()&&i("#lightbox-images-button-box").show()},function(){i("#lightbox-images-button-box").hide()}),i("#lightbox-images-list-up").click(function(){b(1)}),i("#lightbox-images-list-down").click(function(){b(-1)}),i("#lightbox-images-list li a").click(function(){return i("#lightbox-images-list").find("a.actived").removeClass("actived"),i(this).addClass("actived"),e.activeImage=i("#lightbox-images-list li a").index(this),n(),!1}),i("#lightbox-videos-list li a").click(function(){return i("#lightbox-videos-list").find("a.actived").removeClass("actived"),i(this).addClass("actived"),e.activeVideo=i("#lightbox-videos-list li a").index(this),l(),!1}),i("#lightbox-container").click(function(){return!1}),i("#jquery-overlay,#jquery-lightbox").click(function(){f()}),i("#lightbox-loading-link,#lightbox-btnClose").click(function(){return f(),!1}),i(window).resize(function(){var e=p();i("#jquery-overlay").css({width:e[0],height:e[1]});var t=y();i("#jquery-lightbox").css({top:t[1]+e[3]/10,left:t[0]})})}function n(){e.fixedNavigation?i("#lightbox-image").hide():i("#lightbox-image,#lightbox-nav,#lightbox-nav-btnPrev,#lightbox-nav-btnNext").hide(),e.dataEffect&&i("#lightbox-container-image-data-box,#lightbox-image-details-currentNumber").hide(),r(),i("#lightbox-container-video").empty(),i("#lightbox-loading").show(),i("#lightbox-image").css({width:""});var t=new Image;t.onload=function(){i("#lightbox-image").attr("src",e.imageArray[e.activeImage][1]),d(t.width,t.height),t.onload=function(){}},t.src=e.imageArray[e.activeImage][1]}function l(){i("#lightbox-image,#lightbox-loading,#lightbox-nav,#lightbox-nav-btnPrev,#lightbox-nav-btnNext,#lightbox-container-image-data-box,#lightbox-image-details-currentNumber").hide();var t=C(e.videoArray[e.activeVideo][1]);i("#lightbox-container-video").html(t),h()}function d(t,o){var a=i("#lightbox-container-image-box").width(),n=i("#lightbox-container-image-box").height(),l=t+2*e.containerBorderSize,d=o+2*e.containerBorderSize;l>e.maxWidth&&(d=d/l*e.maxWidth,l=e.maxWidth,t=l,o=d,i("#lightbox-image").css({width:l}));var c=a-l,h=n-d;i("#lightbox-container-image-box").animate({width:l,height:d},e.containerResizeSpeed,function(){g()}),0==c&&0==h&&w(i.browser.msie?250:100),i("#lightbox-container-image-data-box").css({width:t}),i("#lightbox-nav-btnPrev,#lightbox-nav-btnNext").css({height:o+2*e.containerBorderSize})}function g(){i("#lightbox-loading").hide(),i("#lightbox-image").fadeIn(function(){c(),s()}),x()}function c(){e.dataEffect?(i("#lightbox-container-image-data-box").slideDown("fast"),i("#lightbox-image-details-caption").hide()):i("#lightbox-container-image-data-box").show(),e.txtTitle&&i("#lightbox-image-details-caption").html(e.txtTitle).show(),e.opCon&&e.imageArray.length>1&&i("#lightbox-image-details-currentNumber").html(e.opCon).show()}function h(){i("#lightbox-container-image-data-box").css({width:e.videoWidth}),e.dataEffect?(i("#lightbox-container-image-data-box").slideDown("fast"),i("#lightbox-image-details-caption").hide()):i("#lightbox-container-image-data-box").show(),e.videoArray[e.activeVideo][1]&&i("#lightbox-image-details-caption").html(e.videoArray[e.activeVideo][1]).show(),e.opCon&&e.videoArray.length>1&&i("#lightbox-image-details-currentNumber").html(e.opCon).show()}function r(){var t,o,a,n=i("#lightbox-images-list"),l=e.activeImage,d=e.sColCount,g=e.sRowCount;i("a.actived",n).removeClass("actived"),i("li",n).eq(l).children().addClass("actived"),t=Math.ceil((l+1)/d),o=Math.ceil(t/g),a=i("#lightbox-images-box").height()*(o-1),n.animate({top:"-"+a})}function s(){i("#lightbox-nav").show(),i("#lightbox-nav-btnPrev,#lightbox-nav-btnNext").addClass("lightbox-no-background"),e.activeImage>0&&(e.fixedNavigation?i("#lightbox-nav-btnPrev").removeClass("lightbox-no-background").unbind().bind("click",function(){return e.activeImage=e.activeImage-1,n(),!1}):i("#lightbox-nav-btnPrev").unbind().hover(function(){i(this).removeClass("lightbox-no-background")},function(){i(this).addClass("lightbox-no-background")}).show().bind("click",function(){return e.activeImage=e.activeImage-1,n(),!1})),e.activeImage!=e.imageArray.length-1&&(e.fixedNavigation?i("#lightbox-nav-btnNext").removeClass("lightbox-no-background").unbind().bind("click",function(){return e.activeImage=e.activeImage+1,n(),!1}):i("#lightbox-nav-btnNext").unbind().hover(function(){i(this).removeClass("lightbox-no-background")},function(){i(this).addClass("lightbox-no-background")}).show().bind("click",function(){return e.activeImage=e.activeImage+1,n(),!1})),m()}function b(t){var o=i("#lightbox-images-box").children(":visible");if(curTop=Math.abs(parseInt(o.css("top"),10)),height=i("#lightbox-images-box").height(),aimTop="",t>0)height*=t,0!=curTop&&(aimTop=height>curTop?0:curTop-height);else{height*=Math.abs(t);var a=o.height();a-height>curTop&&(aimTop=curTop+height)}""!==aimTop&&o.animate({top:"-"+aimTop},e.containerResizeSpeed)}function m(){i(document).keydown(function(i){u(i)})}function v(){i(document).unbind()}function u(i){keycode=null==i?event.keyCode:i.keyCode,escapeKey=27,key=String.fromCharCode(keycode).toLowerCase(),(key==e.keyToClose||"x"==key||keycode==escapeKey)&&f(),(key==e.keyToPrev||37==keycode)&&0!=e.activeImage&&(e.activeImage=e.activeImage-1,n(),v()),(key==e.keyToNext||39==keycode)&&e.activeImage!=e.imageArray.length-1&&(e.activeImage=e.activeImage+1,n(),v())}function x(){e.imageArray.length-1>e.activeImage&&(objNext=new Image,objNext.src=e.imageArray[e.activeImage+1][0]),e.activeImage>0&&(objPrev=new Image,objPrev.src=e.imageArray[e.activeImage-1][0])}function f(){i("#jquery-lightbox").remove(),i("#jquery-overlay").fadeOut(function(){i("#jquery-overlay").remove()}),i("embed, object, select").css({visibility:"visible"})}function p(){var i,e;window.innerHeight&&window.scrollMaxY?(i=window.innerWidth+window.scrollMaxX,e=window.innerHeight+window.scrollMaxY):document.body.scrollHeight>document.body.offsetHeight?(i=document.body.scrollWidth,e=document.body.scrollHeight):(i=document.body.offsetWidth,e=document.body.offsetHeight);var t,o;return self.innerHeight?(t=document.documentElement.clientWidth?document.documentElement.clientWidth:self.innerWidth,o=self.innerHeight):document.documentElement&&document.documentElement.clientHeight?(t=document.documentElement.clientWidth,o=document.documentElement.clientHeight):document.body&&(t=document.body.clientWidth,o=document.body.clientHeight),pageHeight=o>e?o:e,pageWidth=t>i?i:t,arrayPageSize=new Array(pageWidth,pageHeight,t,o)}function y(){var i,e;return self.pageYOffset?(e=self.pageYOffset,i=self.pageXOffset):document.documentElement&&document.documentElement.scrollTop?(e=document.documentElement.scrollTop,i=document.documentElement.scrollLeft):document.body&&(e=document.body.scrollTop,i=document.body.scrollLeft),arrayPageScroll=new Array(i,e)}function w(i){var e=new Date;t=null;do var t=new Date;while(i>t-e)}function C(i){var t='<object classid="clsid:D27CDB6E-AE6D-11cf-96B8-444553540000" width="_width_" height="_height_"><param value="transparent" name="wmode"/><param value="_flashAddr_" name="movie" /><embed src="_flashAddr_" wmode="transparent" allowfullscreen="true" type="application/x-shockwave-flash" width="_width_" height="_height_"></embed></object>';return 0==i.indexOf("http://www.youtube.com/")?t.replace(/_width_/g,e.videoWidth).replace(/_height_/g,e.videoHeight).replace(/_flashAddr_/g,i):void 0}e=jQuery.extend({overlayBgColor:"#000",overlayOpacity:.8,fixedNavigation:!1,containerBorderSize:0,containerResizeSpeed:400,selVideoText:"Video [{count}]",selImageText:"Picture [{count}]",txtTitle:"",imageCount:0,videoCount:0,opCon:"",keys:{next:[13,32,34,39,40],prev:[8,33,37,38],close:[27]},imageArray:[],videoArray:[],activeImage:0,activeVideo:-1,sRowCount:5,sColCount:3,maxWidth:600,videoWidth:600,videoHeight:600,opConClicking:i.noop,beforeClose:i.noop,afterClose:i.noop,beforeScroll:i.noop},e);var k,I=this,A=i(I).find(".lb-image"),j=i(I).find(".lb-video");return this.addImage=function(t){e.imageArray.push(t),i("#lightbox-images-list").append('<li><a href="javascript:void(0)"><img src="'+t[0]+'" /></a></li>')},this.addVideo=function(t){e.videoArray.push(t),i("#lightbox-images-list").append('<li><a href="javascript:void(0)"><img src="'+t[0]+'" /></a></li>')},i("a",A).unbind("click").click(t),i("a",j).unbind("click").click(t),i(this).unbind("click").click(t),this}}(jQuery);!function(a,e,t){"use strict";t.extend(!0,e.Global.ns("Pattaya.LoginOrSignUp"),{Lang:{__culture:"en",Loading:"Loading...",SignIn:"Sign In",Register:"Register",EmailUsername:"Email/Username",Password:"Password",ForgotPassword:"Forgot Password",Email:"Email",ForumNickname:"Forum Nickname",Name:"Name",FirstName:"First Name",LastName:"Last Name",ConfirmPassword:"Confirm Password",CreateAccount:"Create Account",YourPrivacyIsGuaranteed:"DX dones not exchange or trade your information. Your privacy is guaranteed.",Close:"close",CheckoutAsGuest:"Checkout As Guest",AccountCreatedSuccessful:"Account Created Successful，Please Activate it!",ActivationEmailSent:"An activation email have be sent to you.",ActivateYourAccount:"Please follow the prompts to activate your account.",ResendActivationEmail:"Resend Activation Email",ValidationRequired:"The field is required.",ValidationEmail:"Please enter a valid email address.",ValidationMaxLength:"Please enter no more than {0} characters.",ValidationEqualTo:"Please enter the same value again.",ValidationWordNum:"The field may only contain alphanumeric characters.",SystemError:"System error, try again",ValidationPassportSpaces:"The password can't contain Spaces.",ValidationMinLength:"Please enter 6-20 characters."}})}(this,Pattaya,jQuery);!function(a,s,e){function i(){e.Global.UI.tabs(".login_register_tab",{active:"login"==p?0:1,onChanged:function(a,e){var i=s(e).attr("href");p=i.indexOf("login")?"login":"register"}});var i=function(){var a=e.Global.Utils.format,i=function(a,s,e){var i=a.parent();"error"==e?i.removeClass("v_success").addClass("v_error"):"success"==e&&i.removeClass("v_error").addClass("v_success");var o=i.find(".infobox");0==o.length?i.append('<span class="infobox"><span class="info">'+s+"</span></span>"):(o.find(".info").text(s),s?o.css("display","block"):o.css("display","none"))},o=function(a,s){i(a,s,"error")},t=function(a){i(a,"","success")},r=function(a,s){var e=a.parent(),i=e.find(".infobox");"error"==s?e.hasClass("v_error")&&(e.removeClass("v_error"),i.hide()):"success"==s&&e.hasClass("v_success")&&(e.removeClass("v_success"),i.hide())},l=function(a){r(a,"error")},d={required:n.ValidationRequired,email:n.ValidationEmail,nowEmail:n.ValidationEmail,maxlength:n.ValidationMaxLength,minlength:n.ValidationMinLength,equalTo:n.ValidationEqualTo,wordnum:n.ValidationWordNum,space:n.ValidationPassportSpaces},p={required:function(a){return a.length>0?!0:!1},space:function(a){var s=/\s/,e=s.test(a);return!e},email:function(a){return e.Global.Validation.email(a)?!0:!1},nowEmail:function(a){return e.Global.Validation.nowEmail(a)?!0:!1},minlength:function(a,s){return a.length>=s?!0:!1},maxlength:function(a,s){return a.length<=s?!0:!1},equalTo:function(a,e){return a==s(e).val()},wordnum:function(a){return/^[a-z0-9]*$/i.test(a)},remote:function(a,e,i){s.ajax({url:e.url,dataType:"json",data:{val:a}}).done(function(a){a&&("1"===a.state?i.success():("0"===a.state||"-1"===a.state)&&i.error(a.msg))})}},m=function(e){var i,r,n,c=s(this),u=s.trim(c.val()),m=!0;for(filed in p)if(r=c.data(filed)){if("remote"==filed){n=!0;continue}if(m=p[filed](u,r),!m)return i=a(d[filed],r),o(c,i),m}return n?e?!(c.data("remote-result")===!1):(l(c),p.remote(u,c.data(filed),{error:function(a){c.data("remote-result",!1),o(c,a)},success:function(){c.data("remote-result",!0),t(c)}}),"pending"):(t(c),m)},f=function(a){var e,i,o;for(i in a){e=s(i),o=a[i];var t;for(t in o)e.data(t,o[t])}},g=function(){var a=s("#dx-login-form");f({"#dx-l-email":{required:!0,maxlength:50},"#dx-l-password":{required:!0,maxlength:20}}),s(":text, :password",a).data("validator",m).on("blur",function(){var a=s(this);a.data("blured")||a.data("blured",!0).on("keyup",m),a.data("validator").call(this)}),s("#dx-login-submit").data("valid",function(){var e=(s(this),!0);return s(":text, :password",a).each(function(){var a=s(this),i=a.data("validator");s.isFunction(i)&&(i.call(a[0],!0)||(e=!1))}),e})},v=function(){var e=s("#dx-register-form");f({"#dx-r-email":{required:!0,maxlength:32,nowEmail:!0,remote:{url:a(c.passportRootUrl+u,"CheckAccountEmail")}},"#dx-r-firstName, #dx-r-lastName":{required:!0,maxlength:32},"#dx-r-password":{required:!0,space:!0,maxlength:20,minlength:6},"#dx-r-cPassword":{required:!0,maxlength:20,equalTo:"#dx-r-password"}}),s(":text, :password",e).data("validator",m).on("blur",function(){var a=s(this);a.data("blured")||a.data("blured",!0).on("keyup",m),a.data("validator").call(this)}),s("#dx-register-submit").data("valid",function(){var a=(s(this),!0);return s(":text, :password",e).each(function(){var e=s(this),i=e.data("validator");s.isFunction(i)&&(i.call(e[0],!0)||(a=!1))}),a})},x=function(){g(),v()};x()};i(),s("#dx-login-submit, #dx-register-submit").click(function(){var a=s(this);return"disable"==a.data("disable")?!1:a.data("valid")()?(a.text(n.Loading).addClass("disable").data("disable","disable"),s("#lr-iframe").data("loading",!0),a.closest("form").submit(),!1):!1}),t.showGuest&&s("#dx-as-guest").click(function(){var a=s(this);return s.isFunction(t.guestEvent)&&t.guestEvent.call(a,t.dialog),!1});var o=function(a){var s=a.split("&"),e={};for(var i in s){var o=s[i],t=o.split("=");t.length>0&&(e[t[0]]=decodeURIComponent(t[1]))}return"true"===e.success?e.success=!0:"false"===e.success&&(e.success=!1),e};if(a.postMessage){var r=function(a){var s=function(a){var s=a.indexOf("//");return a.substring(s)};if(s(a.origin)===s(c.passportRootUrl)){var e=o(a.data);_(e)}};a.attachEvent?a.attachEvent("onmessage",r):a.addEventListener("message",r,!0)}else s("#lr-iframe").on("load",function(){var a,e=s(this),i={};e.data("loading")&&(a=s.cookie(c.cookieName),i=a?o(a):{success:!1,msg:n.SystemError,type:p},s.cookie(c.cookieName,null,{domain:c.cookieDomain,path:"/"}),e.data("loading",!1),_(i))})}function o(o){var r,l=a.location.hostname.split(".");if(l.length>1&&(r=l[l.length-2]+"."+l[l.length-1],c.cookieDomain="."+r),!(s("#dx-login").length>0)){t={showClose:!0,success:s.noop,error:s.noop,showGuest:!1,closeDirect:!1,autoCloseRegisterActive:!1,success:void 0,animationSpeed:250},s.extend(t,o);var n=e.Global.Utils.format,u=n(c.passportRootUrl+d,"login",c.cookieName),p=n(c.passportRootUrl+d,"register",c.cookieName),v=t.showClose?f:"",x=t.showGuest?g:"",b=t.showGuest?"guest":"",h=c.passportRootUrl+"/accounts/passwordreminder.dx",_=n(m,{loginUrl:u,registerUrl:p,btnClose:v,passwordReminderUrl:h,guest:b,checkout:x});t.dialog=e.Global.UI.dialog(_,{usePanel:!1,showClose:!1,overlayClose:!1,top:"15%",animationSpeed:t.animationSpeed}),i()}}var t,r="20121213",l=e.Global.ns("LoginOrSignUp",e),n=l.Lang,c={passportRootUrl:"https://passport.dx.com",cookieName:"dx-l-r-data",cookieDomain:".dx.com"},d="/ajax/login_register.aspx?type={0}&cname={1}",u="/ajax/Common.ashx?action={0}&callback=?",p="login",m='<div class="login_register_dialog {guest}"><div class="wrap"><ul class="login_register_tab clearfix"><li class="b_r"><a href="#dx-login" class="item ">'+n.SignIn+'</a></li><li><a href="#dx-register" class="item">'+n.Register+'</a></li></ul><div id="dx-login" class="login_register_con"><form id="dx-login-form" action="{loginUrl}" method="post" target="lr-iframe"><p class="row"><label class="col_l" for="dx-l-email"><i class="ico_email"></i>'+n.EmailUsername+'</label><span class="col_r"><span class="input_box"><input class="text" id="dx-l-email" name="dx-l-email"/><i class="ico_s"></i></span></span></p><p class="row"><label class="col_l" for="dx-l-password"><i class="ico_pwd"></i>'+n.Password+'</label><span class="col_r"><span class="input_box"><input id="dx-l-password" name="dx-l-password" class="text" type="password" /><i class="ico_s"></i></span></span></p><p class="row_op"><span class="col_r clearfix"><a class="link_f" href="{passwordReminderUrl}" target="_blank">'+n.ForgotPassword+'</a><button class="pbtn" id="dx-login-submit" type="submit" >'+n.SignIn+'</button></span></p><div class="row_msg"><div id="login-error" class="login_infobox"><i></i><span class="info"></span></div></div></form></div><div id="dx-register" class="login_register_con reg_con"><form id="dx-register-form" action="{registerUrl}" method="post" target="lr-iframe"><p class="row"><label class="col_l" for="dx-r-email"> *'+n.Email+':</label><span class="col_r"><span class="input_box"><input class="text" id="dx-r-email" name="dx-r-email" /><i class="ico_s"></i></span></span></p><p class="row name"><label class="col_l" for="dx-r-firstName">*'+n.Name+':</label><span class="col_r clearfix"><span class="input_box firstname"><input class="text" id="dx-r-firstName" name="dx-r-firstName" placeholder="'+n.FirstName+'"/><i class="ico_s"></i></span><span class="input_box lastname"><input class="text" id="dx-r-lastName" name="dx-r-lastName"   placeholder="'+n.LastName+'"/><i class="ico_s"></i></span></span></p><p class="row"><label class="col_l" for="dx-r-password">*'+n.Password+':</label><span class="col_r"><span class="input_box"><input class="text" id="dx-r-password" name="dx-r-password" type="password" autocomplete="off" /><i class="ico_s"></i></span></span></p><p class="row"><label class="col_l" for="dx-r-cPassword">*'+n.ConfirmPassword+':</label><span class="col_r"><span class="input_box"><input class="text" id="dx-r-cPassword"  name="dx-r-cPassword" type="password" autocomplete="off" /><i class="ico_s"></i></span></span></p><p class="row_op"><button class="rbtn" id="dx-register-submit" type="submit">'+n.CreateAccount+'</button></p><div class="row_msg"><div id="register-error" class="login_infobox"><i></i><span class="info"></span></div></div><p class="row_info">'+n.YourPrivacyIsGuaranteed+'</p></form></div>{checkout}{btnClose}<iframe name="lr-iframe" id="lr-iframe" src="javascript:;" style="display:none;"></iframe></div></div></div>',f='<a href="#close" class="close" data-dialog-role="close">'+n.Close+"</a>",g='<div class="login_guest_con"><a id="dx-as-guest" href="javascript:;" class="btn_checkout_guest">'+n.CheckoutAsGuest+"</a></div>";HTML_REGISTER_SUCCESS='<div class="login_register_dialog"><div class="reg_return"><div class="reg_return_wrap"><h1 class="tit">'+n.AccountCreatedSuccessful+'</h1><p class="con">'+n.ActivationEmailSent+"<br>"+n.ActivateYourAccount+'</p><p class="link_con"><a href="{activeUrl}" target="_blank">'+n.ResendActivationEmail+' &gt;&gt;</a></p></div><a href="#close" class="close" data-dialog-role="close">'+n.Close+"</a></div>";var v=function(a){return s.extend(c,a),this},x=function(a){p="login",o(a)},b=function(a){p="register",o(a)},h=function(){var s=e.Global.Utils.format(HTML_REGISTER_SUCCESS,{activeUrl:c.passportRootUrl+"/accounts/notifyaccountverify.dx"});t.dialog.close(),e.Global.UI.dialog(s,{usePanel:!1,overlayClose:!1,top:"15%",onClose:function(){return t.redirectUrl?a.location.href=t.redirectUrl:a.location.reload(),!1}})},_=function(e){if(e){var i=function(a){"login"==a?s("#dx-login-submit").text(n.SignIn).removeClass("disable").removeData("disable"):"register"==a&&s("#dx-register-submit").text(n.CreateAccount).removeClass("disable").removeData("disable")};if(e.success){if("login"==e.type){if(s.isFunction(t.success)&&t.success()===!1)return void t.dialog.close();t.redirectUrl?a.location.href=t.redirectUrl:a.location.reload()}else if("register"==e.type){if(s.isFunction(t.success)&&t.success()===!1)return;t.autoCloseRegisterActive?setTimeout(function(){h()},t.autoCloseRegisterActive):h()}}else"login"==e.type?e.msg&&s("#login-error").addClass("error").find(".info").text(e.msg):"register"==e.type&&e.msg&&s("#register-error").addClass("error").find(".info").text(e.msg),s.isFunction(t.error)&&t.error(),i(e.type)}};s.extend(l,{__version:r,set:v,login:x,register:b,callback:_})}(window,jQuery,Pattaya);